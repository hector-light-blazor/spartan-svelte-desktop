var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function a(t){t.forEach(e)}function i(t){return"function"==typeof t}function l(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function r(t,e){t.appendChild(e)}function o(t,e,n){t.insertBefore(e,n||null)}function u(t){t.parentNode.removeChild(t)}function s(t){return document.createElement(t)}function c(t){return document.createTextNode(t)}function d(){return c(" ")}function m(t,e,n,a){return t.addEventListener(e,n,a),()=>t.removeEventListener(e,n,a)}function p(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}function f(t,e){e=""+e,t.data!==e&&(t.data=e)}function h(t,e){(null!=e||t.value)&&(t.value=e)}function g(t,e,n,a){t.style.setProperty(e,n,a?"important":"")}let _;function v(t){_=t}function $(t){(function(){if(!_)throw new Error("Function called outside component initialization");return _})().$$.on_mount.push(t)}const b=[],y=[],x=[],E=[],w=Promise.resolve();let C=!1;function I(t){x.push(t)}function N(){const t=new Set;do{for(;b.length;){const t=b.shift();v(t),k(t.$$)}for(;y.length;)y.pop()();for(let e=0;e<x.length;e+=1){const n=x[e];t.has(n)||(n(),t.add(n))}x.length=0}while(b.length);for(;E.length;)E.pop()();C=!1}function k(t){t.fragment&&(t.update(t.dirty),a(t.before_update),t.fragment.p(t.dirty,t.ctx),t.dirty=null,t.after_update.forEach(I))}const M=new Set;function A(t,e){t.$$.dirty||(b.push(t),C||(C=!0,w.then(N)),t.$$.dirty=n()),t.$$.dirty[e]=!0}function L(l,r,o,u,s,c){const d=_;v(l);const m=r.props||{},p=l.$$={fragment:null,ctx:null,props:c,update:t,not_equal:s,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(d?d.$$.context:[]),callbacks:n(),dirty:null};let f=!1;var h,g,$;p.ctx=o?o(l,m,(t,e,n=e)=>(p.ctx&&s(p.ctx[t],p.ctx[t]=n)&&(p.bound[t]&&p.bound[t](n),f&&A(l,t)),e)):m,p.update(),f=!0,a(p.before_update),p.fragment=u(p.ctx),r.target&&(r.hydrate?p.fragment.l(($=r.target,Array.from($.childNodes))):p.fragment.c(),r.intro&&((h=l.$$.fragment)&&h.i&&(M.delete(h),h.i(g))),function(t,n,l){const{fragment:r,on_mount:o,on_destroy:u,after_update:s}=t.$$;r.m(n,l),I(()=>{const n=o.map(e).filter(i);u?u.push(...n):a(n),t.$$.on_mount=[]}),s.forEach(I)}(l,r.target,r.anchor),N()),v(d)}class U{$destroy(){var e,n;n=1,(e=this).$$.fragment&&(a(e.$$.on_destroy),e.$$.fragment.d(n),e.$$.on_destroy=e.$$.fragment=null,e.$$.ctx={}),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}function j(t){var e,n;return{c(){(e=s("button")).textContent="Reset",p(e,"class","button primary"),n=m(e,"click",t.handleReset)},m(t,n){o(t,e,n)},d(t){t&&u(e),n()}}}function R(t){var e,n,a,i,l,m,h,_,v,$,b,y,x,E,w,C,I,N,k,M,A,L,U,j,R,S,F,P,B,O,T;return{c(){e=s("table"),n=s("tbody"),a=s("tr"),(i=s("td")).textContent="First Name",l=d(),m=s("td"),h=c(t.fname),_=d(),v=s("tr"),($=s("td")).textContent="Middle Name",b=d(),y=s("td"),x=c(t.mname),E=d(),w=s("tr"),(C=s("td")).textContent="Last Name",I=d(),N=s("td"),k=c(t.lname),M=d(),A=s("tr"),(L=s("td")).textContent="E-mail",U=d(),j=s("td"),R=c(t.email),S=d(),F=s("tr"),(P=s("td")).textContent="Organization",B=d(),O=s("td"),T=c(t.company),p(e,"class","table striped"),g(e,"color","inherit")},m(t,u){o(t,e,u),r(e,n),r(n,a),r(a,i),r(a,l),r(a,m),r(m,h),r(n,_),r(n,v),r(v,$),r(v,b),r(v,y),r(y,x),r(n,E),r(n,w),r(w,C),r(w,I),r(w,N),r(N,k),r(n,M),r(n,A),r(A,L),r(A,U),r(A,j),r(j,R),r(n,S),r(n,F),r(F,P),r(F,B),r(F,O),r(O,T)},p(t,e){t.fname&&f(h,e.fname),t.mname&&f(x,e.mname),t.lname&&f(k,e.lname),t.email&&f(R,e.email),t.company&&f(T,e.company)},d(t){t&&u(e)}}}function S(t){var e,n,i,l,c,f,g,_,v,$,b,y,x,E,w,C,I,N,k,M,A,L,U,j,R,S,F,P,B,O,T,D,z;return{c(){e=s("form"),n=s("div"),(i=s("label")).textContent="First Name",l=d(),c=s("input"),f=d(),g=s("div"),(_=s("label")).textContent="Middle Name",v=d(),$=s("input"),b=d(),y=s("div"),(x=s("label")).textContent="Last Name",E=d(),w=s("input"),C=d(),I=s("div"),(N=s("label")).textContent="E-Mail (Username)",k=d(),M=s("input"),A=d(),L=s("div"),(U=s("label")).textContent="Update Password",j=d(),R=s("input"),S=d(),F=s("div"),(P=s("label")).textContent="Re-Enter Passwrod",B=d(),O=s("input"),T=d(),(D=s("div")).innerHTML='<button type="button" class="button primary">Update Profile</button>',p(c,"type","text"),p(c,"placeholder","Enter First NAME"),p(n,"class","form-group"),p($,"type","text"),p($,"placeholder","Enter Middle NAME"),p(g,"class","form-group"),p(w,"type","text"),p(w,"placeholder","Enter Last NAME"),p(y,"class","form-group"),p(M,"type","text"),p(M,"placeholder","Enter E-Mail"),p(I,"class","form-group"),p(R,"type","text"),p(R,"placeholder","Enter E-Mail"),p(L,"class","form-group"),p(O,"type","text"),p(O,"placeholder","Enter E-Mail"),p(F,"class","form-group"),p(D,"class","form-group"),z=[m(c,"input",t.input0_input_handler),m($,"input",t.input1_input_handler),m(w,"input",t.input2_input_handler),m(M,"input",t.input3_input_handler),m(R,"input",t.input4_input_handler),m(O,"input",t.input5_input_handler)]},m(a,u){o(a,e,u),r(e,n),r(n,i),r(n,l),r(n,c),h(c,t.fname),r(e,f),r(e,g),r(g,_),r(g,v),r(g,$),h($,t.mname),r(e,b),r(e,y),r(y,x),r(y,E),r(y,w),h(w,t.lname),r(e,C),r(e,I),r(I,N),r(I,k),r(I,M),h(M,t.email),r(e,A),r(e,L),r(L,U),r(L,j),r(L,R),h(R,t.password),r(e,S),r(e,F),r(F,P),r(F,B),r(F,O),h(O,t.password2),r(e,T),r(e,D)},p(t,e){t.fname&&c.value!==e.fname&&h(c,e.fname),t.mname&&$.value!==e.mname&&h($,e.mname),t.lname&&w.value!==e.lname&&h(w,e.lname),t.email&&M.value!==e.email&&h(M,e.email),t.password&&R.value!==e.password&&h(R,e.password),t.password2&&O.value!==e.password2&&h(O,e.password2)},d(t){t&&u(e),a(z)}}}function F(e){var n,i,l,h,_,v,$,b,y,x,E,w,C,I,N,k,M,A,L,U,F,P,D,z,V,q,H,K,G,J,Q,W,X,Y,Z,tt=e.changepic&&j(e);function et(t,e){return"Edit Info"==e.lblEdit?S:R}var nt=et(0,e),at=nt(e);return{c(){n=s("div"),i=s("div"),l=s("input"),h=d(),_=s("img"),v=d(),$=s("div"),b=s("div"),y=c(e.full_name),x=d(),E=s("div"),tt&&tt.c(),w=d(),C=s("div"),I=c(e.subtitle),N=d(),k=s("ul"),M=s("li"),A=s("div"),L=c(B),U=d(),(F=s("div")).textContent="TICKETS",P=d(),D=s("li"),z=s("div"),V=c(O),q=d(),(H=s("div")).textContent="SUBDIVISIONS",K=d(),G=s("hr"),J=d(),Q=s("div"),W=s("h2"),X=c(e.lblEdit),Y=d(),at.c(),p(l,"accept","image/*"),p(l,"type","file"),p(l,"class","svelte-42j6wy"),p(_,"src",e.src),p(_,"alt",""),p(_,"class","avatar svelte-42j6wy"),p(b,"class","title"),p(E,"id","btn"),p($,"class","grid-container svelte-42j6wy"),p(C,"class","subtitle"),p(i,"class","header"),g(i,"margin","0",1),g(i,"color","white"),g(i,"background","#1a2c4d"),p(A,"class","text-bold"),p(z,"class","text-bold"),p(k,"class","skills"),p(Q,"class","container"),p(n,"class","social-box"),Z=[m(l,"change",e.onChange),m(_,"error",T),m(_,"click",e.onClickImage)]},m(t,a){o(t,n,a),r(n,i),r(i,l),e.input_binding(l),r(i,h),r(i,_),r(i,v),r(i,$),r($,b),r(b,y),r($,x),r($,E),tt&&tt.m(E,null),r(i,w),r(i,C),r(C,I),r(n,N),r(n,k),r(k,M),r(M,A),r(A,L),r(M,U),r(M,F),r(k,P),r(k,D),r(D,z),r(z,V),r(D,q),r(D,H),r(n,K),r(n,G),r(n,J),r(n,Q),r(Q,W),r(W,X),r(Q,Y),at.m(Q,null)},p(t,e){t.src&&p(_,"src",e.src),t.full_name&&f(y,e.full_name),e.changepic?tt||((tt=j(e)).c(),tt.m(E,null)):tt&&(tt.d(1),tt=null),t.subtitle&&f(I,e.subtitle),t.lblEdit&&f(X,e.lblEdit),nt===(nt=et(0,e))&&at?at.p(t,e):(at.d(1),(at=nt(e))&&(at.c(),at.m(Q,null)))},i:t,o:t,d(t){t&&u(n),e.input_binding(null),tt&&tt.d(),at.d(),a(Z)}}}let P="https://gis.lrgvdc911.org/php/spartan/api/v2/index.php/users/getUserImage/?pic=",B=0,O=0;function T(t){t.target.src="./assets/spartan_logo.webp"}function D(t,e,n){let a,i,l,r,o,u,s,c,d,m,p,f="",h="None",g=!1;return $(()=>{ipc.on("profile-msg",(t,e)=>{console.log(e);var a=e.me;n("lblEdit",h="ADMIN"==a.work_center?"Edit Info":"Viewing Info"),e.myself||a.user_id==e.userid?(n("lblEdit",h="Edit Info"),a&&(n("fname",r=a.first_name),n("mname",o=a.middle_name?a.middle_name:""),n("lname",u=a.last_name),n("email",s=a.email),n("src",i=`${P}${a.icon2}`),n("company",c=a.org_name),n("subtitle",f=`${a.org_name} - ${a.work_center}`))):async function(t){let e=await fetch(`https://gis.lrgvdc911.org/php/spartan/api/v2/index.php/users/getUserById/?id=${t}`),a=await e.json();a.user&&(l=a.user,n("fname",r=l.first_name),n("mname",o=l.middle_name?l.middle_name:""),n("lname",u=l.last_name),n("email",s=l.email),n("src",i=`${P}${l.icon2}`),n("company",c=l.org_name),n("subtitle",f=`${l.org_name} - ${l.work_center}`))}(e.userid)})}),t.$$.update=((t={fname:1,mname:1,lname:1})=>{(t.fname||t.mname||t.lname)&&n("full_name",p=`${r} ${o} ${u}`.trim())}),{subtitle:f,fileEle:a,src:i,lblEdit:h,changepic:g,fname:r,mname:o,lname:u,email:s,company:c,password:d,password2:m,onClickImage:function(){"Edit Info"==h&&a.click()},onChange:function(){var t=new FileReader;t.onload=function(t){console.log(t),console.log("file loaded"),n("changepic",g=!0),n("src",i=t.target.result),n("fileEle",a.value=null,a)},a.files.length>0&&t.readAsDataURL(a.files[0])},handleReset:function(){n("changepic",g=!1),n("src",i=`${P}${l.icon2}`)},full_name:p,input_binding:function(t){y[t?"unshift":"push"](()=>{n("fileEle",a=t)})},input0_input_handler:function(){r=this.value,n("fname",r)},input1_input_handler:function(){o=this.value,n("mname",o)},input2_input_handler:function(){u=this.value,n("lname",u)},input3_input_handler:function(){s=this.value,n("email",s)},input4_input_handler:function(){d=this.value,n("password",d)},input5_input_handler:function(){m=this.value,n("password2",m)}}}return new class extends U{constructor(t){super(),L(this,t,D,F,l,[])}}({target:document.getElementById("app")})}();
//# sourceMappingURL=bundle.js.map
